@import 'nib'
input[type="text"], input[type="email"], input[type="search"], input[type="password"] {
  -webkit-appearance: none;
  -moz-appearance: none; /* mobile firefox too! */
}
button::-moz-focus-inner {
  border: 0;
}



//http://www.fonts2u.com/iconicstroke.font
// http://stackoverflow.com/questions/10578424/css3-transitions-on-pseudo-elements-after-before-not-working

//Variables
$bodyBg = #34383d
$fotnColor = #4f5561
$fotnSize = 13px
//Form
$formColor = #1c1e21
$formWidth = 300px
$formHeight = 90px
$formInputSep = 2px
$formInputLeftMargin = 15px
//Button
$buttonRadius = 20px
$buttonOutline = 6px
//Animation
$sliceingSpeed = 0.5s
$buttonSpeed = 2s
$formSpeed = 2s

body
  background: $bodyBg
  overflow: hidden
form#login
  font-family: Arial, Helvetica, sans-serif;
  font-weight: bold;
  font-size: $fotnSize
  min-width: $formWidth //ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
  width: $formInputLeftMargin //ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
  background: transparent
  text-align: center
  position: absolute
  top: 50%
  left: 50%
  margin-top:-($formHeight / 2)
  margin-left:-($formWidth / 2)
  height: 0 //animation fix (cannot animate height from px to %)
  min-height: $formInputSep //animation fix
  border:none
  border-top: (($formHeight - $formInputSep) / 2) solid $formColor
  border-bottom: (($formHeight - $formInputSep) / 2) solid $formColor
  border-radius: 5px
  transition:top 2s , margin 2s, height 2s, width 2s
  transition-delay: 0s, 0s, 0s, 2s;
  margin-right:0//ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
  &:before
    content:""
    background: $formColor
    height: $formInputSep + 2px
    width: inherit //ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
    position: absolute
    left:0
    top: -1px
  &:after
    margin-right: inherit //ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
    content:""
    display:block
    overflow:hidden
    position: absolute
    box-sizing: content-box
    border-radius: ($buttonRadius + $buttonOutline)
    padding: 0
    width: (($buttonRadius + $buttonOutline) * 2)
    height: (($buttonRadius + $buttonOutline) * 2)
    right: -($buttonRadius + $buttonOutline)
    bottom: -($buttonRadius + $buttonOutline - $formInputSep / 2)
    color: $bodyBg
    background: $bodyBg
    border: 0
    background-clip: padding-box // FF/IE border radius "background bleed", or "leaking" fix
  input
    outline:0
    border-radius:0
    box-shadow: none
    font: inherit
    background: transparent
    position:absolute
    height: 30px
    &:nth-child(1) //login field
      top: -30px
    &:nth-child(2) //password field
      bottom: -30px
    right: 0
    display: block
    margin-right:$buttonRadius + $buttonOutline
    width: $formWidth - $formInputLeftMargin - @margin-right
    box-sizing: border-box
    color: lighten($fotnColor, 20%)
    border: none
    &::-webkit-input-placeholder
      color:$fotnColor
    &:-moz-placeholder // Mozilla Firefox 4 to 18
      color:$fotnColor;
    &::-moz-placeholder // Mozilla Firefox 19+
      color:$fotnColor;
    &:-ms-input-placeholder // Internet Explorer 10+
      color:$fotnColor;
  button
    outline:0
    overflow:hidden
    position: absolute
    box-sizing: content-box
    border-radius: ($buttonRadius + $buttonOutline)
    padding: 0
    width: ($buttonRadius * 2)
    height: ($buttonRadius * 2)
    right: -($buttonRadius + $buttonOutline)
    top: -($buttonRadius + $buttonOutline - $formInputSep / 2)
    color: $bodyBg
    background: $formColor
    border: solid $bodyBg
    border-width: $buttonOutline
    transition: transform 2s 2s, margin 2s 2s
    background-clip: padding-box // FF/IE border radius "background bleed", or "leaking" fix
    z-index:1
    &:before
      content:""
      display:block
      position: absolute
      margin:0
      left:16px
      height: 0
      width: 0
      border: 0 solid transparent
      border-left-width: 10px
      border-top-width: 8px
      border-bottom-width: 8px
      border-left-color: $bodyBg
      top: ($buttonRadius - ((@border-top-width + @border-bottom-width)/2))
  p
    margin:($formHeight / 2) + 10px 0
    right:left
    float:right
    width: $formWidth
    color: $fotnColor
    top: 100%
    position: absolute
    a
      color: lighten($fotnColor, 20%)
  &.accept
    margin-top:-45px
    top:0
    height:100%
    // opacity:0
    width: 0 //ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
    margin-right:50%//ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
    transition:top 2s , margin-top 2s, height 2s, width 2s, margin-right 2s
    transition-delay: 2s, 2s, 2s, 0s,0s
    button
      transition-delay: 0s
      transform: rotate(-90deg)
      margin-right:50%
  &.decline
    width: 0 //ugly FIX CSS3 transitions on pseudo-elements (:after, :before)
    transition:top 2s , margin 2s, height 2s, width 0.5s
    transition-delay: 0.5s, 0.5s, 0.5s, 0s
    height: 100px
  // button
  //   &:after
  //     background-clip: padding-box // FF/IE border radius "background bleed", or "leaking" fix
  //     content:  "\00d7"
  //     font-weight: bold
  //     font-size: 42px
  //     line-height: 42px
  //     text-align: center
  //     width: 42px
  //     height: 42px
  //     border:1px solid #F00
  //     position: absolute
  //     top: -1px
  //     left: -1px
  //     color: #000
  //     display: block
  //     background: #AA2222 - $formColor
  //     border-radius: 50%

